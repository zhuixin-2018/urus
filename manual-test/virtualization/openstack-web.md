---
Openstack.md - 测试openstack的web页面基本功能
Hardware platform: D06，D05，D03
Software Platform: Debian
Author: Wang Sisii <wang_sisi@hoperun.com>  
Date: 2017-07-27 
Categories: Estuary Documents  
Remark:
---

- **Dependency:**
    - 测试环境准备
       	- 准备1台服务器
       	- 自带两张网卡  
           eth0：192.168.1.254
	      eth1：192.168.1.32
	- 服务器已经搭建有openstack平台且运行正常
         
- **Test:**
　　- 登录页面检查：
　　 通过IE浏览器访问:http://192.168.1.254/identity/
      1 正确用户名密码登录测试：
        用户名输入：admin
        输入正确的密码（可在openstack服务器上执行env命令查询到）
        点击登录按钮观察操作结果。
      预期结果
        能够正常登录和跳转到admin用户管理页面。

      2 用户名、密码为空登录测试：
        用户名、密码输入为空
        点击登录按钮观察操作结果       
      预期结果
        登录失败页面不会跳转

      3 错误用户名登录测试：
        输入不存在的用户名
        输入admin用户的密码
        点击登录按钮观察操作结果       
      预期结果
        登录失败页面不会跳转

      4 错误密码登录测试：
        用户名输入admin
        输入错误的密码
        点击登录按钮观察操作结果       
      预期结果
        登录失败页面不会跳转

      5 密码大小写区分测试：
        用户名输入admin
        输入密码时把正确密码中任意一个大写字母更换为小写字母
        点击登录按钮观察操作结果
        再次输入密码把正确密码中任意一个小写字母更换为大写字母
        点击登录按钮观察操作结果       
      预期结果
        都登录失败且页面不会跳转


   - 项目/访问API页检查：
    通过IE浏览器访问:http://192.168.1.254/identity/
　　使用admin用户和正确密码正常登录
    进入“项目/访问API”页
      1 API页查询凭证检查：
        点击查看凭证观察操作结果
      期望结果：
        能够查看用户名、项目名称、项目ID和认证 URL
    
      2 下载Openstack RC文件检查
        点击“下载Openstack RC 文件”下拉菜单
        点击下拉菜单中的文件进行下载，观察操作结果
      期望结果：
        可以正常下载文件

  - 项目/计算/概况页检查：
    通过IE浏览器访问:http://192.168.1.254/identity/
　　使用admin用户和正确密码正常登录
　　进入“项目/计算/概览”页
　　  1 开始时间小于结束数时间
        输入开始时间小于结束时间后提交
　　  期望结果：
　　    可以正常查询到运行实例、启用内存、周期内VCPU-小时数、周期内GB-小时数、此周期内的RAM-小时数
　　  
　　   2 开始时间和结束时间为空
         输入开始时间和结束时间为空后点击提交
　　   期望结果：
　　    提示输入开始、结束时间
　　  
　　   3 开始时间大于结束时间
         输入开始时间大于结束时间后击提交
　　   期望结果：
　　      无法设置开始时间大于结束时间
　　    
　　   4 开始时间等于结束时间
         输入开始时间等于结束时间后点击提交
　　   期望结果   
　　    可以正常查询到运行实例、启用内存、周期内VCPU-小时数、周期内GB-小时数、此周期内的RAM-小时数
       
       5 下载CSV摘要测试
         点击“下载CSV摘要”。
       期望结果
         能够下载文件，文件内容：周期使用量报表、运行中的实例、VCPU总用量(小时)、运行中的内存总计(MB)、内存总用量(小时)、磁盘总大小(GB)、磁盘总用量(小时)、
       
  - 项目/计算/实例页测试：
    通过IE浏览器访问:http://192.168.1.254/identity/
　　使用admin用户和正确密码正常登录
　　进入“项目/计算/实例”页
　　  1 创建实例成功测试
　　    点击创建实例按钮
　　    设置实例详情、源、网络
　　    设置完成后点击创建实例
　　  期望结果
　　    创建实例成功
　　
　　  2 筛选测试
　　    选择筛选的条件和输入匹配的值后点击筛选
　　    选择筛选的条件和输入不匹配的值后点击筛选
　　  期望结果：
　　    能够筛选出匹配的记录
　　    不匹配则显示为空
      
      3 勾选删除实例
        勾选（单个或多个）实例
        点击删除实例按钮
　　  期望结果：
　　    删除勾选实例成功
      
      4 下拉单测试
        点击记录后动作的下拉单
      期望结果
        下拉单显示出可以对实例进行各种操作，包括：绑定浮动IP、连接接口、分离接口等等
      
      5 下拉单绑定浮动IP测试
        点击记录后动作的下拉单中绑定浮动IP选项
        设置IP地址和待连接的端口
       点击关联按钮
      期望结果
        记录中显示该实例绑定了设置的浮动IP

      6 下拉单解除浮动IP测试
        点击记录后动作的下拉单中解除浮动IP选项
      期望结果
        记录中该实例绑定了浮动IP被删除

　　  7 下拉单连接接口测试
        点击记录后动作的下拉单中连接接口选项
        指定一个端口的方法和选择网络
        点击连接接口
      期望结果
        记录中该实例连接的接口

　　  8 下拉单分离接口测试
        点击记录后动作的下拉单中分离接口选项
        选择要分离接口的端口
        点击分离接口
      期望结果
        记录中该实例连接的接口被删除
     
      9 下拉单编辑实例测试
        点击记录后动作的下拉单中编辑实例选项
        修改实例名称
        点击保存
      期望结果
        记录中该实例名称被更改

      10 下拉单更新元数据测试
        点击记录后动作的下拉单中更新元数据选项
        添加可用的元数据或删除已存在的元数据
        点击保存
      期望结果
        保存成功，可添加或删除元数据

      11 下拉单编辑安全组测试
        点击记录后动作的下拉单中编辑安全组选项
        增加或删除安全组
        点击保存
      期望结果
        保存成功，可添加或删除安全组

      12 下拉单Edit Port Security Groups测试
        点击记录后动作的下拉单中Edit Port Security Groups选项
      期望结果
        进入接口安全组设置界面
 
      13 下拉单控制台测试
        点击记录后动作的下拉单中控制台选项
      期望结果
        可以打开实例控制台界面

      13 下拉查看日志测试
        点击记录后动作的下拉单中查看日志选项
      期望结果
        可以查看到实例控制台的日志

      14 查看完整日志
        点击记录后动作的下拉单中查看日志选项
        在控制台日志页面中点击查看完整日志
      期望结果
        可以查看到完整的日志

      15 日志长度测试
        点击记录后动作的下拉单中查看日志选项
        在控制台日志页面日志长度分别输入空、小于总长度、等于或大于日志总长度的值后点击“GO”
      期望结果
        输入为空时提示无法获得日志
        输入小于总长度时只显示等于该值长度的日志信息
        输入大于等于日志总长度时显示等于总长度的日志

      16 下拉单暂停实例测试
        点击记录后动作的下拉单中暂停实例选项
      期望结果
        可以查看到实例状态显示为暂停

      17 下拉单恢复实例测试
        选择一个暂停或挂起的实例
        点击记录后动作的下拉单中恢复实例选项
      期望结果
        可以恢复暂停或挂起状态的实例，状态更新为运行
      
      18 下拉单挂起实例测试
        点击记录后动作的下拉单中挂起实例选项
      期望结果
        可以查看到实例状态显示为挂起

      19 下拉单挂起实例测试
        点击记录后动作的下拉单中挂起实例选项
      期望结果
        可以查看到实例状态显示为挂起

      20 下拉单调整实际大小测试
        点击记录后动作的下拉单中调整实例大小选项
        选择新的实例类型后点击调整大小按钮
      期望结果
        可以调整实例大小

      21 下拉单锁定实例测试
        点击记录后动作的下拉单中锁定实例选项
        对该实例进行其他动作操作如编辑实例等
      期望结果
        可以看到实例锁定状态为锁定
        无法对实例进行其他操作

      22 下拉单解锁实例测试
        选择一个被锁定的实例
        点击记录后动作的下拉单中解锁实例选项
        对该实例进行其他动作操作如编辑实例等
      期望结果
        可以看到实例锁定状态为解锁状态
        可以对实例进行其他操作

      23 下拉单软重启实例测试
        点击记录后动作的下拉单中软重启实例选项
        等待实例重启
      期望结果
        实例被软重启并能正常启动

      24 下拉单硬重启实例测试
        点击记录后动作的下拉单中硬重启实例选项
        等待实例重启
      期望结果
        实例被硬重启并能正常启动

      25 下拉单关闭实例测试
        点击记录后动作的下拉单中关闭实例选项
        等待实例关闭
      期望结果
        显示实例状态为关机

      26 启动实例测试
        选择一个关机状态的实例
        点击该实例记录后动作启动按钮
      期望结果
        实例重新启动，显示状态为运行中


      27 下拉单重建实例测试
        点击记录后动作的下拉单中重建实例选项
        选择镜像后点击重建实例       
      期望结果
        实例重建成功

      28 下拉单废弃实例测试
        点击记录后动作的下拉单中废弃实例选项
      期望结果
        可以查看到实例状态显示为强制搁置

      29 下拉单删除实例测试
        点击要删除的实例记录后动作的下拉单中删除实例选项
      期望结果
        实例被删除

　　  30 创建实例失败测试
　　    点击创建实例按钮
　　    设置实例详情、源、网络中任意一个必选项输入为空
　　    点击创建实例
　　  期望结果
　　    无法创建实例
　　
  - 项目/计算/镜像页检查
    通过IE浏览器访问:http://192.168.1.254/identity/
　　使用admin用户和正确密码正常登录
　　进入“项目/计算/镜像”页
      1 创建镜像
        点击创建镜像
        设置镜像详情和元数据
        点击创建按钮
      期望结果
        创建镜像成功
      
      2 过滤镜像
        选择过滤条件及输入匹配的值后进行过滤
        选择过滤条件及输入不匹配的值后进行过滤
      期望结果：
　　    能够过滤出匹配的记录
　　    不匹配则显示为空

      3 创建卷
        选择镜像启动下拉菜单创建卷
        设置卷详情
      期望结果
        创建卷成功
      
      4 编辑镜像
        选择镜像启动下拉菜单编辑镜像
        修改镜像详情后点击更新镜像
      期望结果
        更新镜像成功
    
      5 更新元数据
        选择镜像启动下拉菜单更新元数据
        更新镜像元数据后点击保存
      期望结果
        更新元数据成功
    
      6 删除镜像
        选择要删除的镜像
        点击删除镜像按钮
      期望结果
        成功删除镜像

      6 创建镜像失败测试
        点击创建镜像
        设置镜像详情时必选项设置为空
        点击创建按钮
      期望结果
        创建镜像失败
       
  - 项目/计算/密钥对页检查
    通过IE浏览器访问:http://192.168.1.254/identity/
　　使用admin用户和正确密码正常登录
　　进入“项目/计算/密钥对”页
　　  1 创建密钥对
　　    点击创建密钥对按钮
　　    输入密钥对名称
　　    点击创建密钥对
　　  期望结果
　　    创建密钥对成功
　　
　　  2 过滤测试
        选择过滤条件及输入匹配的值后进行过滤
　　    选择过滤条件及输入不匹配的值后进行过
　　  期望结果：
　　    能够过滤出匹配的记录
　　    不匹配则显示为空

      3 导入公钥
        点击导入公钥按钮
        输入公钥名称和公钥
        点击导入公钥
      期望结果
        导入公钥成功

      4 删除密钥对
        勾选要删除的密钥对
        点击删除密钥对按钮
　　  期望结果：
　　    删除密钥对成功
　　 
　　  5 导入密钥对失败测试
　　    点击导入公钥按钮
　　    输入错误的公钥内容
　　    点击导入公钥
　　  期望结果
　　    提示导入公钥不正确

  - 项目/计算/主机组页面测试：
    通过IE浏览器访问:http://192.168.1.254/identity/
　　使用admin用户和正确密码正常登录
　　进入“项目/计算/主机组”页
      1 创建服务器组
        点击“create Server Group”
        输入名称和选择策略
        点击提交按钮
      期望结果
        提交成功并创建服务器组

　　 2 过滤测试
        选择过滤条件及输入匹配的值后进行过滤
　　    选择过滤条件及输入不匹配的值后进行过
　　 期望结果
　　    能够过滤出匹配的记录
　　    不匹配则显示为空
　　
     3 删除服务器组
        勾选要删除的服务器组
        点击“Delete Server Groups”按钮
　　  期望结果：
　　    删除服务器组成功
　　
　　 4 创建服务器组失败测试
        点击“create Server Group”
        名称或策略设置为空
        点击提交按钮
      期望结果
        提交失败
　　  
　　
  - 项目/网络/网络拓扑页面测试：
    通过IE浏览器访问:http://192.168.1.254/identity/
　　使用admin用户和正确密码正常登录
　　进入“项目/网络/网络拓扑/拓扑”页
　　  1 创建实例
　　    点击创建实例按钮
　　    设置实例详情、源、网络
　　    设置完成后点击创建实例
　　  期望结果
　　    创建实例成功
　　
　　  2 创建网络
　　    点击创建网络按钮
　　    正确设置网络、子网和子网详情
　　    点击已创建按钮
　　  期望结果
　　    创建网络成功并在拓扑图中显示
　　
　　  3 新建路由
　　    点击新建路由按钮
　　    设置路由名称和选择网络
　　    点击新建路由按钮
　　   期望结果
　　     新建路由成功并在拓扑图中显示
　　 
　　  4 小、正常显示测试
　　    点击“小”和“正常”图标
　　  期望结果
　　    点击“小”时把拓扑图缩小显示
　　    点击“正常”时显示正常大小的拓扑图
　　
　　   5 创建实例失败测试
　　    点击创建实例按钮
　　    设置实例详情、源、网络中任意必选项设置为空
　　    点击已创建按钮
　　  期望结果
　　    创建实例失败
　　
　　   6 创建网络失败测试
　　    点击创建网络按钮
　　    设置网络、子网和子网详情中任意必选项设置为空
　　    点击已创建按钮
　　  期望结果
　　    创建网络失败
 
　　 进入“项目/网络/网络拓扑/图表”页
　　   1 鼠标上下滚动测试
　　     在拓扑图上上下滚动您的鼠标或触控板
　　   期望结果
　　     拓扑图可以根据鼠标上下滚动或触控板调整大小
　　  
　　   2 平移画布测试
　　     鼠标点击拓扑图后的空白并拖拽画布
　　   期望结果
　　     可以通过点击拓扑图后的空白拖拽来平移画布
　　
　　   3 切换标签测试
　　     点击切换标签按钮
　　   期望结果
　　     可以通过点击标签按钮显示或不显示标签
　　   
　　   4 Center Topology按钮功能
　　     点击 “Center Topology”按钮
　　   期望结果
　　     拓扑图自动移动到正中显示
　　
　　   5 切换网络折叠模式按钮测试
　　     点击“切换网络折叠模式”按钮
　　   期望结果
　　     可以切换网络折叠模式
　　
  - 项目/网络/网络页面测试：
    通过IE浏览器访问:http://192.168.1.254/identity/
　　使用admin用户和正确密码正常登录
　　进入“项目/网络/网络”页
　　  1 创建网路
　　    点击创建网络按钮
　　    正确设置网络、子网和子网详情
　　    点击下一项按钮
　　  期望结果
　　    创建网络成功
　　  
　　  2 筛选测试
　　    选择筛选的条件和输入匹配的值后点击筛选
　　    选择筛选的条件和输入不匹配的值后点击筛选
　　  期望结果：
　　    能够筛选出匹配的记录
　　    不匹配则显示为空
　　
　　  3 创建子网络测试
        点击要创建子网的网络后编辑网络下拉单中创建子网络选项
　　    正确设置子网和子网详情后点击已经创建
　　  期望结果
　　    可以创建子网成功
　　
　　 4 下拉单删除网络测试
　　   点击要删除的网络后编辑网络下拉单中的删除网络选项
　　 期望结果
　　   能够删除网络
　　
　　 5 选择网络后删除测试
　　   勾选（单个或多个）要删除的网络
　　   点击删除网络按钮
　　期望结果
　　   能够删除勾选的网络
　　 
  - 项目/网络/路由页面测试：
    通过IE浏览器访问:http://192.168.1.254/identity/
　　使用admin用户和正确密码正常登录
　　进入“项目/网络/路由”页
　　   1 创建路由
　　    点击新建路由按钮
　　    设置路由名称和选择网络
　　    点击新建路由按钮
　　   期望结果
　　     新建路由成功并在拓扑图中显示
　　  
　　  2 筛选测试
　　    选择筛选的条件和输入匹配的值后点击筛选
　　    选择筛选的条件和输入不匹配的值后点击筛选
　　  期望结果：
　　    能够筛选出匹配的记录
　　    不匹配则显示为空
　　
　　  3 编辑路由测试
        点击要编辑路由后下拉单中编辑路由选项
　　    去除（勾选）启动管理员状态勾选后点保存
　　  期望结果
　　    保存成功，启动管理员状态的勾选状态为去除（勾选）
　　
　　 4 下拉单删除路由测试
　　   点击要删除的路由后下拉单中的删除路由选项
　　 期望结果
　　   能够删除路由
　　
　　 5 选择路由后删除测试
　　   勾选（单个或多个）要删除的路由
　　   点击删除路由按钮
　　期望结果
　　   能够删除路由

　　6 清除网关测试
　　   点击要清除网关的网络后清除网关按钮
　　   确认清除网关界面点击清除网关
　　 期望结果
　　   该路由外部网络被设置为空
　　
  - 项目/网络/安全组页面测试：
    通过IE浏览器访问:http://192.168.1.254/identity/
　　使用admin用户和正确密码正常登录
　　进入“项目/网络/安全组”页
　　   1 创建安全组
　　    点击创建安全组按钮
　　    设置安全组名称和输入描述
　　    点击创建安全组按钮
　　   期望结果
　　     创建安全组成功
　　  
　　  2 筛选测试
　　    选择筛选的条件和输入匹配的值后点击筛选
　　    选择筛选的条件和输入不匹配的值后点击筛选
　　  期望结果：
　　    能够筛选出匹配的记录
　　    不匹配则显示为空
　　  
　　  3  编辑安全组测试
　　     选择要编辑安全组的动作下拉单中的编辑安全组按钮
　　     修改安全组名称和描述
　　     点击编辑安全组按钮
　　  期望结果
　　      编辑安全组成功，编辑内容与修改时一致
　　
　　 4 下拉单删除安全组测试
　　   点击要删除的安全组后下拉单中的删除安全组选项
　　 期望结果
　　   能够删除安全组
　　
　　 5 勾选安全组删除测试
　　   勾选（单个或多个）要删除的安全组
　　   点击删除安全组按钮
　　期望结果
　　   能够删除勾选安全组
　　
　　 6 创建安全组失败测试
　　    点击创建安全组按钮
　　    设置安全组名称设置为空
　　    点击创建安全组按钮
　　  期望结果
　　    提示创建安全组失败
　　
  - 项目/网络/浮动ip页面测试：
    通过IE浏览器访问:http://192.168.1.254/identity/
　　使用admin用户和正确密码正常登录
　　进入“项目/网络/浮动ip”页
　　   1 分配给项目IP测试
　　     点击分配给项目IP按钮
　　     选择资源池和输入描述
　　     点击分配IP按钮
　　   期望结果
　　     自动分配出一个浮动IP
　　
　　   2 筛选测试
　　    选择筛选的条件和输入匹配的值后点击筛选
　　    选择筛选的条件和输入不匹配的值后点击筛选
　　  期望结果：
　　    能够筛选出匹配的记录
　　    不匹配则显示为空
　　  
　　   3 下拉菜单释放浮动IP测试
　　     选择要释放浮动IP记录后的下拉菜单中释放浮动IP选项
　　   期望结果
　　     该浮动IP记录被删除 
　　
　　   4 勾选浮动IP释放浮动IP测试
　　     勾选释放的浮动IP
　　     点击释放浮动IP按钮
         勾选多个要释放的浮动IP
         点击释放浮动IP按钮
　　   期望结果
　　     所有勾选的浮动IP记录被删除
     
       6 超浮动IP分配个数测试
         浮动IP已经全部分配
         点击分配IP给项目按钮
       期望结果
         提示浮动IP已经分配完无法再分配

  - 项目/编排/堆栈页面测试：
    通过IE浏览器访问:http://192.168.1.254/identity/
　　使用admin用户和正确密码正常登录
　　进入“项目/编排/堆栈”页
　　   1 创建堆栈
　　     点击创建堆栈按钮
　　     选择
　　
　　   2 筛选测试
　　    选择筛选的条件和输入匹配的值后点击筛选
　　    选择筛选的条件和输入不匹配的值后点击筛选
　　  期望结果：
　　    能够筛选出匹配的记录
　　    不匹配则显示为空
　　  3 堆栈预览测试
　　    选点击堆栈预览按钮
　　    选择模板源和
　　  期望结果：
　　    能够筛选出匹配的记录
　　    不匹配则显示为空

  - 项目/编排/资源类型页面测试：
    通过IE浏览器访问:http://192.168.1.254/identity/
　　使用admin用户和正确密码正常登录
　　进入“项目/编排/资源类型”页
      1 筛选测试
      选择类型
　　
  UsX21yFsGJsFh2VTQtHDXQwdZLcawH7FeraO5O6q
          
　msW6jC2wzetSLzmJCOPTRQCnMrqZkUzeWFiOGeb7　

    